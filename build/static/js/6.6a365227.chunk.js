(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[6],{359:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a(367),l=a(18),r=a(58),i=a(56),n=(a(84),a(85),a(2)),d=a(57),o=(a(87),a(80),a(50)),b=a(61),j=a(374),u=a(371),h=(a(14),a(99),a(51)),m=a(59),O=(a(66),a(63),a(5));t.default=()=>{const e=Object(n.n)(),[t,a]=Object(s.useState)("password"),[x,p]=Object(s.useState)(!1),[g,v]=Object(s.useState)(!1),[f,y]=Object(s.useState)(!1),[N,w]=Object(s.useState)(""),[S,C]=Object(s.useState)("info"),[F,I]=Object(s.useState)([]),[q,A]=Object(s.useState)(""),[L,T]=Object(s.useState)(""),[U,_]=Object(s.useState)([]),[E,H]=Object(s.useState)(!1),[D,M]=Object(s.useState)(!1),R=(e,t)=>{w(e),C(t),y(!0)},k=i.a().shape({cat:i.c().required("Category name is required"),title:i.c().required("Title is required"),url:i.c().required("Feed url is required")});Object(s.useEffect)((()=>{(async()=>{try{const e=Object(h.b)(o.b,"category"),t=(await Object(h.f)(e)).docs.map((e=>({id:e.id,...e.data()})));return I(t),t}catch(e){throw console.error("Error fetching categories:",e),e}})()}),[]);const B=e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onloadend=()=>{T(e.result)},e.readAsDataURL(t)}else T(null);t&&(e=>{if(!e)return;M(!0);const t=new Date,a="".concat(t.getTime(),"_").concat(null===e||void 0===e?void 0:e.name),s=Object(m.c)(o.c,"UserImages/".concat(a));Object(m.d)(s,e).then((e=>{Object(m.a)(e.ref).then((e=>{R("Image Added Sucessfully","success"),A(e),M(!1)}))}))})(t)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(d.a,{open:f,message:N,severity:S,onClose:()=>{y(!1)}}),Object(O.jsx)(r.a,{initialValues:{cat:"",title:"",url:""},validationSchema:k,onSubmit:(t,a)=>{let{setSubmitting:s}=a;(async t=>{v(!0);try{const a=Object(h.d)(o.b,"category",null===t||void 0===t?void 0:t.cat),s=await Object(h.e)(a);if(!s.exists())throw v(!1),new Error("Category not found");const c=s.data(),l=Object(u.a)(),r=Object(h.b)(o.b,"Newchannels"),i=await Object(h.a)(r,{_id:l,title:null===t||void 0===t?void 0:t.title,imageUrl:q,url:null===t||void 0===t?void 0:t.url,category:c,sub:[],download:[],star:[]});return e("/listCategory"),R("Podcast Added Sucessfully","success"),v(!1),i.id}catch(a){throw v(!1),console.error("Error adding channel:",a),a}})(t)},children:e=>{let{values:t,errors:a,touched:s,handleChange:r,handleBlur:i,handleSubmit:n}=e;return Object(O.jsx)(c.a,{className:"formHead",style:{width:"40%"},onSubmit:n,children:Object(O.jsxs)("section",{className:"bord",children:[Object(O.jsxs)(c.a.Group,{className:"mb-2 hideFocus2",controlId:"formGroupEmail",children:[Object(O.jsx)(c.a.Label,{className:"lableHead",children:"Add Category"}),Object(O.jsx)(c.a.Select,{"aria-label":"Default select example",className:"radius_12",name:"cat",value:t.cat,onChange:r,children:F.map((e=>Object(O.jsx)("option",{value:e.id,children:e.name},e.id)))}),s.cat&&a.cat&&Object(O.jsx)("div",{className:"errorMsg",children:a.cat}),Object(O.jsx)(c.a.Label,{className:"lableHead mt-3",children:"Add Title"}),Object(O.jsx)(c.a.Control,{className:"radius_12 ",placeholder:"Title",name:"title",value:t.title,onChange:r}),s.title&&a.title&&Object(O.jsx)("div",{className:"errorMsg",children:a.title}),Object(O.jsx)(c.a.Label,{className:"lableHead mt-3",children:"Add Feed Url"}),Object(O.jsx)(c.a.Control,{className:"radius_12 ",placeholder:"Url",name:"url",value:t.url,onChange:r}),s.url&&a.url&&Object(O.jsx)("div",{className:"errorMsg",children:a.url})]}),Object(O.jsxs)("div",{className:"d-flex ",style:{flexDirection:"column"},children:[Object(O.jsx)("h6",{className:"lableHead mt-2 mb-2",children:"Upload Image"}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("label",{style:{cursor:"pointer",position:"relative"},htmlFor:"fileInput",className:"cursor-pointer",children:[D&&Object(O.jsx)(l.a,{style:{width:"18px",height:"18px",marginTop:"3px",borderWidth:"0.15em",position:"absolute",top:"1.5rem",right:"2rem",zIndex:"99999",color:"red"},animation:"border",role:"status",children:Object(O.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),q?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("img",{src:q,alt:"Preview",style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"50%",position:"relative"},className:"object-cover"})}):Object(O.jsx)("div",{className:"border radius_50 flex justify-content-center items-center",children:Object(O.jsx)("img",{src:b.a,alt:"Camera Icon",width:80,height:80})})]}),Object(O.jsx)(j.a,{type:"file",id:"fileInput",className:"visually-hidden",onChange:B})]})]}),Object(O.jsx)("div",{className:"d-flex flex-column w-50",children:Object(O.jsx)("button",{disabled:g,className:"loginBtn mt-3 ".concat(g?"disbalebtn":""),children:g?Object(O.jsx)(l.a,{style:{width:"18px",height:"18px",marginTop:"3px",borderWidth:"0.15em"},animation:"border",role:"status",children:Object(O.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):"Submit"})})]})})}})]})}}}]);
//# sourceMappingURL=6.6a365227.chunk.js.map